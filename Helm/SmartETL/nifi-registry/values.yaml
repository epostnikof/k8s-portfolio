dockerconfigjson: []
revisionHistoryLimit: 1
podManagementPolicy: OrderedReady

image:
  repository: docker.universe-data.ru/smart-etl/apache/nifi-registry-your_domain-key
  pullPolicy: IfNotPresent
  tag: "1.24.0"

## Ресурсы доступные для Pod NiFi
resources:
  requests:
    cpu: 400m
    memory: 1Gi
  limits:
    cpu: 500m
    memory: 2Gi

service:
  http_port: 18080
  https_port: 18443

ingress:
  domain: your_domain
  # base64 secret
  crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUY1RENDQTh5Z0F3SUJBZ0lVQ0hvWlVrT3JXUEN4TVljVWRLNjgvd21Yb0Y0d0RRWUpLb1pJaHZjTkFRRUwKQlFBd1dERW9NQ1lHQTFVRUF3d2ZZMngxYzNSbGNpMXJPSE11YjNZdWRXNXBkbVZ5YzJVdFpHRjBZUzV5ZFRFUgpNQThHQTFVRUNnd0lWVzVwZG1WeWMyVXhHVEFYQmdOVkJBc01FRk5oYVc1MExWQmxkR1Z5YzJKMWNtY3dIaGNOCk1qUXdNakV5TVRBeU56RXpXaGNOTXpRd01qQTVNVEF5TnpFeldqQllNU2d3SmdZRFZRUUREQjlqYkhWemRHVnkKTFdzNGN5NXZkaTUxYm1sMlpYSnpaUzFrWVhSaExuSjFNUkV3RHdZRFZRUUtEQWhWYm1sMlpYSnpaVEVaTUJjRwpBMVVFQ3d3UVUyRnBiblF0VUdWMFpYSnpZblZ5WnpDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDCkFnb0NnZ0lCQU41OEo0cnFvTlRtYWdKcXRnMmd5MEhWc1psamxpOE12S2xZZ0JUVU5SRDBJNG9NWDhBQkRqZ2cKb2E4Nk5IRW5samxYaG5nVTY5ckJaY1h1R0x0SFMyb0pQY0VUVUFZM0lQT0NkTi9USjJIckM3QVRSRnZCMk1nZQpWSWpiK2diNjhGbEI5ZlgxdWVuT2d6d2k2aHBwNGlxRjFZZGRySnBicWdGMEFBU3BmKzJJS1Z4eFhjdmJFRjdmCkJUN2MvL2F4UHhnYUJxNWNzaFIxdWpyS1FoVFc1QUlTbUZuOWZlOHBMRlZ0c3d5SVBLVVg4NHBwelhmZEJYeXYKT3hwQUFpOFQ3dUtyeWhHUzlmQVU1TUFZVUsrWjlHT1RUam4vVmFSWE93TG1vWGQ2cEVCSGFMbWltSy9iL2g0VgpWaG1FR0U4TWgzMlNtNWRHQWZmelYzZHpmYjNmcTVoUURJb0FPb2RwRjkybTh2Z2g3eXNKVi9BeUd5R3dtbFJjClk2clNFVm5kMEcxaUhRNTZST3picUNJUFErT2VVY2dXekZMQlRMRFY0Vy9kVzBPSjdHWHN6TmtkenZrRDI2R0gKOHNwazFpK2VCZ0RtMis4RGdkbk1BUDFXR3ZrWjgxS0F5eTM4SUZYWmp4aXRsN0RWUHMzZURJTWt0MDhkcmVSMgpOYjNNR0RFbTZQay9neUhvQmVwaFUwVXZFRk9XSkdyZ3F0NVVUclFBcXFzZVBaUGJ5eU1qWEsrdjU2Mld6Nk9FCkRtV1FXYm9wRUtueEltZ0tRMURTK1E0cEJLZnZSd1Vhc0MvSkc0WmhKYlhndnJPQUxZNG5UcU5Xb3pmQmxyRmIKWG9za2h5a0JDaVJxdURaS3dhSFJkcStYSlA4UDFobmt4MUtVUFFCeW5QMjBNVmZkOGNhM0FnTUJBQUdqZ2FVdwpnYUl3SFFZRFZSME9CQllFRkFPeGJGTlJmRHN5QTdYUG1QTWhIaVhaaEhETU1COEdBMVVkSXdRWU1CYUFGQU94CmJGTlJmRHN5QTdYUG1QTWhIaVhaaEhETU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d1R3WURWUjBSQkVnd1JvSWYKWTJ4MWMzUmxjaTFyT0hNdWIzWXVkVzVwZG1WeWMyVXRaR0YwWVM1eWRZSWpkM2QzTG1Oc2RYTjBaWEl0YXpoegpMbTkyTG5WdWFYWmxjbk5sTFdSaGRHRXVjblV3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUNqMlpEMmkzVlNWCnl3THZBa3ZuOXo1dnFXa0hDSXRTT2ZtbHFLZzRDZU9ORUJ4V3ZTUjZHcXlWZ1poMXErN0JOMHB1QkxhY0ZMWmkKNVBFWVBhcGFRekRBd2ZlNTlHd0YrVmVFTEV6NHl2a1ZSM3hITXBZU1c3bUo3Vm5CY2JrQUNqWXg2VnJlSTV2ZQo5MjUzbitHU0IxRmV0dkVNM1cvS2dtNDFuelFidldrNmxxSzRHN0dwMExoL3c5OEVOOExrVmFWZGZoQkZ6WnI2CnNRL0dEc1F3bVllYWc2OTVicXoydGlUZTV2Undkcmg0NDY2eU1XblZOamxUendOdVIrYW1CNUNkckJxY1p4OVkKaEM2eDFZZzNycStuUUtoVm9uUm9BSzBpTE4zSmI3TkhleHhoR1BxR1Frb21WVVhCdUtzN3ZibmR4eE5halV4ZApTdUF6Y2FUcXFHNDJYUjRQdmdUVnVrbXpHWVQ2M1pDNnNQTlZkN1ZvT1JMREVBckFPYzBGeGFQUTc3SCtCWlVBClBQeGVUb1BPV3dkMHBTWEpoaGloRjRYclFidlZiTEJDcWlTVUlRSm5DZGx5dzFDNGphbTltNWUrUFE5TEcxTU4KY0tPMzROL2NFT2xlMktnVVRaWGJSTzNlUzJvU3dpdFBORmhDMFY3S01oaEJDcG1lZlBVSkdlOW1ZUDB0blRwLwpEM0hwNlhXK1NMTUZDNDlwYjdPUTZ0VEZzMW16QUVHeVJkWXdaMW9LTTFNcXAyZ0lWZGkyTEM2TXptQkFtNnZzCmFNTXFmV29ULzJDM0NIM2tSaEJEcm9GQnJ0aDFRSnpmRWc0dVZQd2psemYzWUJUL2JNYjNTeEt3K2Nvak91bUcKRU1TRkxVSktFTTNjL0JXcC81Q1BhK2Rpc290cWg2a2cKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRZ0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1N3d2dna29BZ0VBQW9JQ0FRRGVmQ2VLNnFEVTVtb0MKYXJZTm9NdEIxYkdaWTVZdkRMeXBXSUFVMURVUTlDT0tERi9BQVE0NElLR3ZPalJ4SjVZNVY0WjRGT3Zhd1dYRgo3aGk3UjB0cUNUM0JFMUFHTnlEemduVGYweWRoNnd1d0UwUmJ3ZGpJSGxTSTIvb0crdkJaUWZYMTlibnB6b004Ckl1b2FhZUlxaGRXSFhheWFXNm9CZEFBRXFYL3RpQ2xjY1YzTDJ4QmUzd1UrM1AvMnNUOFlHZ2F1WExJVWRibzYKeWtJVTF1UUNFcGhaL1gzdktTeFZiYk1NaUR5bEYvT0thYzEzM1FWOHJ6c2FRQUl2RSs3aXE4b1Jrdlh3Rk9UQQpHRkN2bWZSamswNDUvMVdrVnpzQzVxRjNlcVJBUjJpNW9waXYyLzRlRlZZWmhCaFBESWQ5a3B1WFJnSDM4MWQzCmMzMjkzNnVZVUF5S0FEcUhhUmZkcHZMNEllOHJDVmZ3TWhzaHNKcFVYR09xMGhGWjNkQnRZaDBPZWtUczI2Z2kKRDBQam5sSElGc3hTd1V5dzFlRnYzVnREaWV4bDdNelpIYzc1QTl1aGgvTEtaTll2bmdZQTV0dnZBNEhaekFEOQpWaHI1R2ZOU2dNc3QvQ0JWMlk4WXJaZXcxVDdOM2d5REpMZFBIYTNrZGpXOXpCZ3hKdWo1UDRNaDZBWHFZVk5GCkx4QlRsaVJxNEtyZVZFNjBBS3FySGoyVDI4c2pJMXl2citldGxzK2poQTVsa0ZtNktSQ3A4U0pvQ2tOUTB2a08KS1FTbjcwY0ZHckF2eVJ1R1lTVzE0TDZ6Z0MyT0owNmpWcU0zd1pheFcxNkxKSWNwQVFva2FyZzJTc0doMFhhdgpseVQvRDlZWjVNZFNsRDBBY3B6OXRERlgzZkhHdHdJREFRQUJBb0lDQUJMU3orSjA5ZGduQ2F4Q3JLTGlpalpJCmh2MWNIdE1xcExVL050Q01VN3FuZWdwSUFDSGlqcFBTdFZ0R3dqUk5kRkswRVFvTXArU2JBM2J0K2hnWDEwMlYKWDJBdlVWQmJ0T1V5SzV4MFMyZm4xd2xQY1puMUFLVEEvMkVyVHBhRy85b0FuUkVrcTRoKytUMFhyWWh6WG9UWQo1ZXBtMDFMWXhvbzl1OWtQaDh3YlpSRkN5V0ppQU00c2Nla3JxeVh4cDREczdHSXZZL0cxbXBnRGovaUUvM3BRCm5UNXNzQTFlYkFRMzZXYjZDVzNreTBieDNrWUxmZkQwUHp5dFVvSDZ4UFc5WkxXdjd2MVRiWjJQMTMxZGhzdkoKSlNreGJUR0dVd2lmekVzUjh0N1R4WExvNUcxcFlFcW1mcTVleDRZaU9nclFMd1VFcTAzMzh3OVNrNzZDWnRsSApyVm5lYTV1MGx6RlQwWlRFVTF6ZlcyMnRKTDhuNldINUM2K2xSVHAvRnpGMVZwazZRMVcrSGhyT2lFSUVPNlIxCnh3MDFrS2hyMmxmWVpiOENsYmZCNVNuVUFGU2pieDdkbFFXVGtQMjhGbWd3VkRmUTdaS0dKWTBOM3dPblgyZksKdno4MHFLMmYzZUtrSU9OeEJWL0Q4RUNwZE01YkdNNEl4QzhobHFIM0xXaFM5UGxRM3RVZjhXaEUyWlhxbDh4Rgo4U2FoRElmSm9OaFpMdGdyNTU3d2hiMXREd21KNjllTGVGczZpVWJyTkdMV1hsUWlGdGc4YUh2RGxwWDNiZEZxCkhSYndmZ0pIVlRZMzZiWXJrY1AzN2lXbVRzWjY5czRKTXBUQWFyYkpHZnNzczkzOHJaOGtNSEhVd1lPQlhEbGcKYXdYMjZ3WDJMeWRMQ1N2NFJrcUJBb0lCQVFEKzhrVHdOSDMzUkl0eDZnczhzb2xpMTJZVmtsVTNhclRoN2k4SgptR0JLV0EraHF6eVA4QkJiVTZZQTVobDFJbGhlUVNEbW9wb3hwMlhVdEZMaWw0Tkp4TVNoTUhHdmF4SXN0WmNaCmxGNnBESXNZcnhSazJvOTd4dGJpSUVkelVTQ3BSOXV5TUpoYTM2SVQ0b1J4endYNlZjRnVEZGJ6L2t5Wms1SjcKb0xMZDk1OXZPRjRnQk1mQ09nMDhpVXJQMkQ5QUNQa2U2WmRsRUZ6TTFZb1BoZ2JBZ3dvTFNkdzdHaVN0cExXQwp5NFZ5dzVGRlI2eTZZYjdIdHc4SnZsVGMwcFA4RUNzNy9HWHF3cUN2SkIvK2VpdTA2MVVoSWNBT29UQmdjS3JvCmd3WGEwL21Cbm9BRnRDcnJMMkJjYmFISUxxSnpnS1hxSlBEV0Z1eC9na3gxeS9VUkFvSUJBUURmWjRxVjlSaWQKcm80OGIzZmVucERuWWtkT1A1MmIxL1k5RWNNKy9zUWRtdGF3NUdMaVpyemtMSHBLYmdRWERCZ1V5MU1heGFsVApaUjZ6czJvbit6Vmo1emhmQzRoZitZVi94Z0xyRWIxeExwajlTVUF0S1JIdEE5RnEwT3hoQkVLVnhuUXpNSWZOCmF1ZnZ0eDBvSGhTQnpBcHZQQnl0bFp5OUdWUHZkM0NsWW1XQlgvUUIvSUFEbUF1WUsrWEFZZkRiUzByS1c1U28KeStTV3ZCUHdad2k2MWd4WG54bjNWQkRXbzVhNnVRVldxNWdMcGZJM1FXSjM5blNjVnpURURQdkhWM2I2Y1orawpzTldUYVlwY2duZGloTTZUYWNGcWVCazZiZ2FvSFRkbUFERXRMZ3pTUm0xbHVhUjFRSnJLNWdVUGZVUVZrVkVLCjFlUDRNdW5OZDk5SEFvSUJBRWxXSDRhSlV3TGg4TXJmN0VPVmgvZXF4bTdHSFVWSHFLaWsvMXJmUGpPa2lUcVUKSzJPc1JzZytrNjRHZ3FRek1RQkw4ODdrVHo2aFRLV1hDWkNzek5OWGlzaGpTeENPMkRlTU5ON2kweWdGdDYxdQpENHZEWXlyVDA5UlFQTDFyUk4zdEVjRjhRUmRDNVRpYkhFWXdxeU9McjR5YzVveGhSbCtYRjdnQVRmT1QyNFQrCnpmU2Y2Mlp2bEljcFp4L0tzTWNXemJLYXR6WVhNdHFwUW9HY3FDeVFoVDhpQy92a1ZWQ3Q1Sml2T3IvOGlibEkKR09PMFlsREkwOGFWdll1WDk0RzJsUGs0YllqT1c3S0Z6YjVDSG5oNGlaQnlTUERzWlNJWXh0RURmNWVuQ2tyQwo4VWl5dnZYUU53UGZkWDVFQys3MXZzUlB4QWVScUk0MVNSRkpqa0VDZ2dFQWRvZ2xTN01qUUdaaEtVZXJQZjY3CnUwaTF0SnFrTVEvQW9sNU9UWm8yeTg1Zm9yTktrLzBXczZtMXFNLytjNHdES3VWR1Rxb1pVUm9SMUI2WmNHVWsKeXNEZmMrNVdpVFdHMDJob0cvanBucWV1bkpURTdERWlSYk1FNWJ1Nzd5Mm5kbmc1SnYvVXpmU3U0czB4Tnh2ZQpuWTk0NmRQbkUyS1NLdkxKU2dFQlQzNkpoTDg0WStWb3RuOXhoMmVqR3hQY0N6NURqR0pTMmN4MG1GVnA3dDk4CkRrV0xmdUgza1BhVmlJeDdhTTdLT2xZSThnVTJJb01hajdPLzQwT1J4NE5zQXpRdytHaFkzN1REWE5kZWhmN2oKQU82ZC9ERGNZblVlVFpZYkNnK1dXUlE1QTFPdmtkRzBNWWp4N1JRK0RQRkdOaFdzamhUdi91UEZkT2J1amduUAorUUtDQVFFQTluWVd6SE54emtGYWNKVituRG9KNkVaQXdrdFZuYUREajNUQU1nV2JXT0pKVHRSeHA0dC9LV2lJClE5RXdiMHhIRFBWUThwcGRWM1J4WklqZElFbmUrSEkyMzhhL2QxUUFqRTdCbEduRnExT21jVFR0aFp2VTdwZm4KM1pYTVZzRTJ6Y0d0cFNTUjh5cG1Ed1dBVU1wcjZ0Z3MzWWxUMmhXMUpWMS85Uy8vKzVVTUIrdUhHbFhyekRRRwpucTFreFFTQldWNjBaelI0UllKMy90SU1FREg2aWJaM3o0NlRjMXNzRGM2aUc2b05PUVdyN1o0VlcxYnZLaXJMCm85OFFPVktLM3BZZmdiMm8wSTMvckptd095blBIRkZXUmttNVQxbzZldFEraCtQTE1EVG1ldmZxcmpTWTFYdEIKb1dLbVFIU28zQ3o0NHNlZEZTWE4xRUFLWWdiQ3dBPT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=

volumes:
  nfs:
    path: /var/nfs/nifi-registry/
    server: 10.21.2.33
    storage: 30Gi
    nfsvers: "4.0"
### Конфигурация самого приложения NiFi ###
config:
  ### Данные должны совпадать с заданными в Helm postgresql
  postgresql_pass: notpostgres
  postgresql_ip: 10.21.2.33
  postgresql_port: "5433"
  ###############################
  ### Должны сопадать с теми, что заданы в Helm nifi (Смотрит на те же ключи, что и NiFi)
  keystore_password: "th1s1s3up34e5r37"
  truststore_password: "th1s1s3up34e5r37"
  ###############################
  nifi_registry_security_user_oidc_discovery_url_path: "keycloak/auth/realms/master/.well-known/openid-configuration"
  java_opts: "-XX:UseAVX=0 -Djavax.net.debug=ssl"
  nifi_provenance_repository_indexed_attributes: "'runId, batchId, sourceSystem'"
  nifi_security_user_authorizer: "managed-authorizer"
  nifi_registry_security_user_oidc_connect_timeout: "10 min"
  nifi_registry_security_user_oidc_read_timeout: "60 secs"
  nifi_registry_security_user_oidc_client_id: "org:apache:nifi-reg:oidc:all"
  auth: "oidc"
  initial_admin_identity: "admin"
